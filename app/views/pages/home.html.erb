<section class="bg-gray-50 px-6 py-8 antialiased dark:bg-gray-900 md:py-16 xl:px-6">
  <div class="mb-8 max-w-screen-xl mx-auto flex items-center justify-between gap-4">

    <form class="w-full mx-auto">
      <label for="default-search" class="mb-2 text-sm font-medium text-gray-900 sr-only dark:text-white">Search</label>
      <div class="relative">
        <div class="absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none">
          <svg class="w-4 h-4 text-gray-500 dark:text-gray-400" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
            fill="none" viewBox="0 0 20 20">
            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z" />
          </svg>
        </div>
        <input type="search" id="default-search"
          class="bg-white block w-full p-4 ps-10 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500"
          placeholder="Type any keyword..." required />
        <button type="submit"
          class="text-white absolute end-2.5 bottom-2.5 bg-primary-700 hover:bg-primary-800 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-4 py-2 dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800">Search</button>
      </div>
    </form>

    <div class="text-center shrink-0 block lg:hidden">
      <button
        class="text-white bg-primary-700 hover:bg-primary-800 focus:ring-4 focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-4 dark:bg-primary-600 dark:hover:bg-primary-700 focus:outline-none dark:focus:ring-primary-800"
        type="button" data-drawer-target="drawer-example" data-drawer-show="drawer-example"
        aria-controls="drawer-example">
        Show filter
      </button>
    </div>

  

  </div>
  <div class="mx-auto w-full max-w-screen-xl rounded-lg">
    <div class="flex flex-col items-stretch md:flex-row gap-6">
        <!-- drawer component -->
    
      <div id="drawer-example"  class="order-2 shrink-0 space-y-2 border-gray-200 pb-4 dark:border-gray-700 md:order-1 md:w-72 p-4 md:p-6  bg-white  dark:bg-gray-800 rounded-lg fixed lg:relative top-0 left-0 z-40 h-screen p-4 overflow-y-auto transition-transform -translate-x-full lg:translate-none w-80 dark:bg-gray-800" tabindex="-1" aria-labelledby="drawer-label">
        <div>
        <h5 id="drawer-label"
          class="inline-flex items-center mb-4 text-base font-semibold text-gray-500 dark:text-gray-400 lg:hidden"><svg
            class="w-4 h-4 me-2.5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor"
            viewBox="0 0 20 20">
            <path
              d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z" />
          </svg>Filters</h5>
        <button type="button" data-drawer-hide="drawer-example" aria-controls="drawer-example"
          class="text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 lg:rounded-lg text-sm w-8 h-8 absolute top-2.5 end-2.5 flex items-center justify-center dark:hover:bg-gray-600 dark:hover:text-white lg:hidden">
          <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14">
            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6" />
          </svg>
          <span class="sr-only">Close menu</span>
        </button>
        <%= render 'pages/partials/filter' %>
  
  
      </div>
      </div>

      <div class="order-1 w-full">
        <%= render 'pages/partials/people_grid' %>
      </div>
    </div>
  </div>
</section>

<!-- Hero Section -->
<section class="bg-gradient-to-r from-primary-700 to-primary-900 text-white">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24">
    <div class="text-center">
      <h1 class="text-4xl md:text-6xl font-bold mb-6">
        Find the Perfect
        <span class="text-yellow-300">Freelancer</span>
        for Your Project
      </h1>
      <p class="text-xl md:text-2xl mb-8 text-primary-100 max-w-3xl mx-auto">
        Connect with talented professionals and get your projects done efficiently. 
        Join thousands of successful collaborations on FreelanceHub.
      </p>
      <div class="flex flex-col sm:flex-row gap-4 justify-center">
        <% if user_signed_in? %>
          <% if current_user.client? %>
            <%= link_to "Post a Project", new_project_path, 
                class: "bg-yellow-400 text-gray-900 px-8 py-4 rounded-lg text-lg font-semibold hover:bg-yellow-300 transition-colors" %>
          <% else %>
            <%= link_to "Browse Projects", projects_path, 
                class: "bg-yellow-400 text-gray-900 px-8 py-4 rounded-lg text-lg font-semibold hover:bg-yellow-300 transition-colors" %>
          <% end %>
          <%= link_to "View Freelancers", portfolios_path, 
              class: "bg-transparent border-2 border-white text-white px-8 py-4 rounded-lg text-lg font-semibold hover:bg-white hover:text-primary-700 transition-colors" %>
        <% else %>
          <%= link_to "Get Started", new_user_registration_path, 
              class: "bg-yellow-400 text-gray-900 px-8 py-4 rounded-lg text-lg font-semibold hover:bg-yellow-300 transition-colors" %>
          <%= link_to "Browse Projects", projects_path, 
              class: "bg-transparent border-2 border-white text-white px-8 py-4 rounded-lg text-lg font-semibold hover:bg-white hover:text-primary-700 transition-colors" %>
        <% end %>
      </div>
    </div>
  </div>
</section>

<!-- Stats Section -->
<section class="py-16 bg-gray-50">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="grid grid-cols-2 md:grid-cols-5 gap-8">
      <div class="text-center">
        <div class="text-3xl md:text-4xl font-bold text-primary-700 mb-2">
          <%= number_with_delimiter(@stats[:total_projects]) %>
        </div>
        <div class="text-gray-600 font-medium">Total Projects</div>
      </div>
      <div class="text-center">
        <div class="text-3xl md:text-4xl font-bold text-green-600 mb-2">
          <%= number_with_delimiter(@stats[:active_projects]) %>
        </div>
        <div class="text-gray-600 font-medium">Active Projects</div>
      </div>
      <div class="text-center">
        <div class="text-3xl md:text-4xl font-bold text-blue-600 mb-2">
          <%= number_with_delimiter(@stats[:total_freelancers]) %>
        </div>
        <div class="text-gray-600 font-medium">Freelancers</div>
      </div>
      <div class="text-center">
        <div class="text-3xl md:text-4xl font-bold text-purple-600 mb-2">
          <%= number_with_delimiter(@stats[:total_clients]) %>
        </div>
        <div class="text-gray-600 font-medium">Clients</div>
      </div>
      <div class="text-center">
        <div class="text-3xl md:text-4xl font-bold text-yellow-600 mb-2">
          <%= number_with_delimiter(@stats[:completed_projects]) %>
        </div>
        <div class="text-gray-600 font-medium">Completed</div>
      </div>
    </div>
  </div>
</section>

<!-- Recent Projects Section -->
<% if @recent_projects.any? %>
  <section class="py-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-12">
        <h2 class="text-3xl md:text-4xl font-bold text-gray-900 mb-4">
          Latest Projects
        </h2>
        <p class="text-xl text-gray-600 max-w-2xl mx-auto">
          Discover exciting opportunities from clients around the world
        </p>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
        <% @recent_projects.each do |project| %>
          <div class="bg-white rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow p-6">
            <div class="flex justify-between items-start mb-4">
              <h3 class="text-lg font-semibold text-gray-900 line-clamp-2">
                <%= link_to project.title, project_path(project), class: "hover:text-primary-700 transition-colors" %>
              </h3>
              <span class="text-lg font-bold text-primary-700 whitespace-nowrap ml-4">
                <%= project.budget_range %>
              </span>
            </div>

            <p class="text-gray-600 text-sm mb-4 line-clamp-3">
              <%= truncate(project.description, length: 120) %>
            </p>

            <div class="flex items-center justify-between text-sm text-gray-500 mb-4">
              <span class="flex items-center">
                <i class="fas fa-user mr-1"></i>
                <%= project.client.display_name %>
              </span>
              <span class="flex items-center">
                <i class="fas fa-calendar mr-1"></i>
                <%= time_ago_in_words(project.created_at) %> ago
              </span>
            </div>

            <div class="flex items-center justify-between">
              <span class="px-2 py-1 bg-primary-100 text-primary-800 text-xs rounded-full">
                <%= project.category.titleize %>
              </span>
              <%= link_to "View Details", project_path(project), 
                  class: "text-primary-700 hover:text-primary-800 font-medium text-sm" %>
            </div>
          </div>
        <% end %>
      </div>

      <div class="text-center">
        <%= link_to "View All Projects", projects_path, 
            class: "bg-primary-700 text-white px-8 py-3 rounded-lg hover:bg-primary-800 transition-colors font-medium" %>
      </div>
    </div>
  </section>
<% end %>

<!-- Featured Freelancers Section -->
<% if @featured_freelancers.any? %>
  <section class="py-16 bg-gray-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-12">
        <h2 class="text-3xl md:text-4xl font-bold text-gray-900 mb-4">
          Featured Freelancers
        </h2>
        <p class="text-xl text-gray-600 max-w-2xl mx-auto">
          Connect with top-rated professionals ready to bring your ideas to life
        </p>
      </div>

      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
        <% @featured_freelancers.each do |freelancer| %>
          <div class="bg-white rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow p-6 text-center">
            <div class="w-20 h-20 mx-auto mb-4 rounded-full overflow-hidden bg-gray-200 flex items-center justify-center">
              <% if freelancer.avatar.attached? %>
                <%= image_tag freelancer.avatar, class: "w-full h-full object-cover" %>
              <% else %>
                <span class="text-gray-600 font-medium text-lg">
                  <%= freelancer.initials %>
                </span>
              <% end %>
            </div>

            <h3 class="text-lg font-semibold text-gray-900 mb-1">
              <%= freelancer.display_name %>
            </h3>
            
            <% if freelancer.professional_title.present? %>
              <p class="text-gray-600 text-sm mb-3">
                <%= freelancer.professional_title %>
              </p>
            <% end %>

            <div class="text-sm text-gray-500 mb-4">
              <%= pluralize(freelancer.portfolios.count, 'project') %>
            </div>

            <%= link_to "View Portfolio", freelancer_portfolio_path(freelancer), 
                class: "text-primary-700 hover:text-primary-800 font-medium text-sm" %>
          </div>
        <% end %>
      </div>

      <div class="text-center">
        <%= link_to "View All Freelancers", portfolios_path, 
            class: "bg-primary-700 text-white px-8 py-3 rounded-lg hover:bg-primary-800 transition-colors font-medium" %>
      </div>
    </div>
  </section>
<% end %>

<!-- CTA Section -->
<section class="py-16 bg-primary-700">
  <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
    <h2 class="text-3xl md:text-4xl font-bold text-white mb-4">
      Ready to Get Started?
    </h2>
    <p class="text-xl text-primary-100 mb-8">
      Join thousands of successful projects on FreelanceHub today
    </p>
    <div class="flex flex-col sm:flex-row gap-4 justify-center">
      <% unless user_signed_in? %>
        <%= link_to "Sign Up as Client", new_user_registration_path, 
            class: "bg-white text-primary-700 px-8 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors" %>
        <%= link_to "Sign Up as Freelancer", new_user_registration_path, 
            class: "bg-yellow-400 text-gray-900 px-8 py-3 rounded-lg font-semibold hover:bg-yellow-300 transition-colors" %>
      <% else %>
        <% if current_user.client? %>
          <%= link_to "Post Your First Project", new_project_path, 
              class: "bg-white text-primary-700 px-8 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors" %>
        <% else %>
          <%= link_to "Find Your Next Project", projects_path, 
              class: "bg-white text-primary-700 px-8 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors" %>
        <% end %>
      <% end %>
    </div>
  </div>
</section>